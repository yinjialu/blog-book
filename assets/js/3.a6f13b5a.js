(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{167:function(t,e,r){t.exports=r.p+"assets/img/cache1.a8c916b2.png"},168:function(t,e,r){t.exports=r.p+"assets/img/cache2.7245085c.png"},169:function(t,e,r){t.exports=r.p+"assets/img/cache3.1f5ef8ee.png"},192:function(t,e,r){"use strict";r.r(e);var a=[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"缓存策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存策略","aria-hidden":"true"}},[this._v("#")]),this._v(" 缓存策略")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"几种缓存状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#几种缓存状态","aria-hidden":"true"}},[this._v("#")]),this._v(" 几种缓存状态")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("p",[t._v("200")]),t._v(" "),a("ul",[a("li",[t._v("Status Code: 200 OK (from memory cache) 内存缓存\n"),a("ul",[a("li",[t._v("base64 图片")]),t._v(" "),a("li",[t._v("主资源")])])]),t._v(" "),a("li",[t._v("Status Code: 200 OK (from disk cache) 磁盘缓存\n"),a("ul",[a("li",[t._v("派生资源")])])]),t._v(" "),a("li",[t._v("强制缓存状态，直接使用已有缓存")])])]),t._v(" "),a("li",[a("p",[t._v("304")]),t._v(" "),a("ul",[a("li",[t._v("Status Code: 304 Not Modified")]),t._v(" "),a("li",[t._v("协商缓存状态")])])]),t._v(" "),a("li",[a("p",[t._v("一种迷惑状态（应该也是协商缓存）\n"),a("img",{attrs:{src:r(167),alt:""}}),t._v("\n主资源状态码 304"),a("br"),t._v("\n派生资源状态吗 200\n但是两个响应参数大小几乎相同（响应报文的大小）应该是协商缓存")]),t._v(" "),a("p",[t._v("对比区别\n"),a("img",{attrs:{src:r(168),alt:""}}),t._v("\n派生资源的请求头(request) 缺失了 "),a("code",[t._v("If-Modified-Since")]),t._v(" "),a("code",[t._v("If-None-Match")]),t._v(" "),a("img",{attrs:{src:r(169),alt:""}})]),t._v(" "),a("p",[a("code",[t._v("Provisional headers are shown")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"浏览器缓存策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存策略","aria-hidden":"true"}},[this._v("#")]),this._v(" 浏览器缓存策略")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("p",[t._v("强制缓存")]),t._v(" "),r("ul",[r("li",[t._v("Expires  --  缓存过期时间")]),t._v(" "),r("li",[t._v("Cache-Control  --  缓存有效时间\n"),r("ul",[r("li",[t._v("public -- 客户端和代理服务器都可以缓存")]),t._v(" "),r("li",[t._v("private -- 客户端可以缓存")]),t._v(" "),r("li",[t._v("max-age=1000 -- 缓存有效时间1000ms")]),t._v(" "),r("li",[t._v("no-cache -- 直接进行协商缓存")]),t._v(" "),r("li",[t._v("no-store -- 完全不缓存")])])])])]),t._v(" "),r("li",[r("p",[t._v("协商缓存")]),t._v(" "),r("ul",[r("li",[t._v("Last-Modified -- 上次修改时间")]),t._v(" "),r("li",[t._v("ETag -- 资源的特定版本的标识符")])])]),t._v(" "),r("li",[r("p",[t._v("优先级")]),t._v(" "),r("p",[t._v("强制缓存（Cache-Control > Expires） > 协商缓存 (ETag > Last-Modified)")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"webpack-长效缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-长效缓存","aria-hidden":"true"}},[this._v("#")]),this._v(" webpack 长效缓存")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("文件内容有变化时，重新打包的文件名哈希值会有变化，撤销变化后重新打包哈希值也会复原。")]),this._v(" "),e("li",[this._v("配置浏览器的强制缓存策略")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方案","aria-hidden":"true"}},[this._v("#")]),this._v(" 方案")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"参考："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考：","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考：")])}],i=r(0),s=Object(i.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),r("p",[t._v("设置超长的 max-age=31536000 一年，搭配webpack的长效缓存打包")]),t._v(" "),t._m(8),t._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/304",target:"_blank",rel:"noopener noreferrer"}},[t._v("304 Not Modified"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://juejin.im/post/5b70edd4f265da27df0938bc#heading-10",target:"_blank",rel:"noopener noreferrer"}},[t._v("前端也要懂Http缓存机制"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/frontend9/fe9-interview/issues/29",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里巴巴：浏览器的强缓存和协商缓存（一面）"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.infoq.cn/article/8VU-VCrhoxducaFPrNOL",target:"_blank",rel:"noopener noreferrer"}},[t._v("深入理解浏览器的缓存机制"),r("OutboundLink")],1)])])])},a,!1,null,null,null);e.default=s.exports}}]);